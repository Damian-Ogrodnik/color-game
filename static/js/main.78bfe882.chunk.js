(this["webpackJsonpcolor-game"]=this["webpackJsonpcolor-game"]||[]).push([[0],{33:function(e,t,a){e.exports=a(94)},38:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(10),o=a.n(c),l=(a(38),a(6)),s=a(4),u={gameStarted:!1,selectedLevel:!1,startError:!1,openModal:!1,colorsArray:[],clicks:0,time:{},gameFinished:!1,openScoreModal:!1,openScoreModalView:!1,nickname:null},i=Object(n.createContext)(u),m=i.Provider,d=function(){var e=Object(n.useContext)(i),t=e.dispatch,a=e.state.selectedLevel,c=function(e){var a=e.target.value;t({type:"SELECT_LEVEL",selectedLevel:a}),t({type:"START_ERROR",startError:!1})},o=function(e){return e===a?"selected":""};return r.a.createElement("div",{className:"menu__difficulty"},r.a.createElement("h2",null,"Select Level of Difficulty"),r.a.createElement("div",{className:"menu__levels"},r.a.createElement("button",{className:"btn btn__level--easy ".concat(o("easy")),value:"easy",onClick:function(e){return c(e)}},"EASY"),r.a.createElement("button",{className:"btn btn__level--medium ".concat(o("medium")),value:"medium",onClick:function(e){return c(e)}},"MEDIUM"),r.a.createElement("button",{className:"btn btn__level--hard ".concat(o("hard")),value:"hard",onClick:function(e){return c(e)}},"HARD")))},E=a(8),f=a.n(E),b={content:{top:"50%",left:"50%",width:"80%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"0.25rem solid #470100",borderRadius:"1rem",backgroundColor:"#ad343e"}};f.a.setAppElement("#root");var _,v=function(){var e=Object(n.useContext)(i),t=e.dispatch,a=e.state.openModal;return r.a.createElement(f.a,{isOpen:a,style:b,contentLabel:"Example Modal"},r.a.createElement("div",{className:"modal"},r.a.createElement("h2",{className:"modal__title"},"Welcome to my color-game!"),r.a.createElement("p",{className:"modal__text--body"},"I created this simple game to practise context state managment in React. To start the game you have to choose the level of difficulty and press the start button. Then you will see colorful blocks. Your task is to set the same color on each block as quick as possible. You can change color of a block by clicking on it."," "),r.a.createElement("button",{className:"modal__btn",onClick:function(){return t({type:"OPEN_MODAL",openModal:!1})}},"GOT IT!")))},p=function(){var e=Object(n.useContext)(i).dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menu__info",onClick:function(){return e({type:"OPEN_MODAL",openModal:!0})}},"?"),r.a.createElement(v,null))},O=a(0),h=a(25),g=function(e){var t=e.msg,a=e.class_Name,n=e.icon,c=void 0!==n&&n;return r.a.createElement(O.b.Provider,{value:{className:"".concat(a,"__icon")}},r.a.createElement("div",{className:a},c&&r.a.createElement(h.a,{value:{color:"black"}}),t))},N=function(){var e=Object(n.useContext)(i),t=e.dispatch,a=e.state,c=a.selectedLevel,o=a.startError;return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(g,{msg:"You have to select level of difficulty before start.",class_Name:"menu__error"}),r.a.createElement("div",{className:"menu__start"},r.a.createElement("button",{className:"btn__start",onClick:function(){return t(!1===c?{type:"START_ERROR",startError:!0}:{type:"START_GAME"})}},"START")))},S=function(e){var t=e.classTitle,a=e.title;return r.a.createElement("div",{className:"".concat(t,"__header")},r.a.createElement("h1",null,a))},k=function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu__wrapper"},r.a.createElement(S,{classTitle:"menu",title:"Color Game"}),r.a.createElement(d,null),r.a.createElement(N,null)),r.a.createElement(p,null))},j=function(){var e=Object(n.useContext)(i),t=e.dispatch,a=e.state.clicks,c=Object(n.useState)(0),o=Object(s.a)(c,2),l=o[0],u=o[1],m=Object(n.useState)(0),d=Object(s.a)(m,2),E=d[0],f=d[1],b=Object(n.useState)(0),_=Object(s.a)(b,2),v=_[0],p=_[1];Object(n.useEffect)((function(){var e=setTimeout((function(){f(E+1)}),1e3);return function(){return clearInterval(e)}}),[E]),Object(n.useEffect)((function(){var e=setTimeout((function(){p(v>1e3?0:v+1)}),1);return function(){return clearInterval(e)}})),Object(n.useEffect)((function(){t({type:"SET_TIME",time:{minutes:l,seconds:E,miliSeconds:v}})}),[a]);return r.a.createElement("div",{className:"game__timer"},r.a.createElement("div",{className:"game__timer--top"},l<10?"0".concat(l):l,":",E<10?"0".concat(E):E>59?(f(0),u(l+1),"00"):E))},C={content:{top:"50%",left:"50%",width:"80%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"0.25rem solid #470100",borderRadius:"1rem",backgroundColor:"#ad343e"}},y=function(){var e=Object(n.useContext)(i).dispatch;return r.a.createElement("button",{className:"modal__btn--close",onClick:function(){return e({type:"OPEN_SCORE_MODAL",openScoreModal:!1})}},"X")},R=a(26),A=a.n(R).a.create({baseURL:"http://color-game-dogrodnik.herokuapp.com/"}),M=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(s.a)(o,2),u=l[0],m=l[1],d=Object(n.useContext)(i),E=d.dispatch,f=d.state,b=f.time,_=f.selectedLevel,v=function(e){e.preventDefault();var t=b.minutes,n=b.seconds,r=b.miliSeconds;a?a.length<4?m("SHORT-NICKNAME"):A.post("/scores/".concat(_,"/").concat(a),{minutes:t,seconds:n,miliSeconds:r}).then((function(){E({type:"VALUE_NICKNAME",nickname:a})})).catch((function(e){e.response?m("NICKNAME-TAKEN"):m("SERVER-ERROR")})):m("NO-NICKNAME")};return r.a.createElement("div",{className:"scoreboard__input"},r.a.createElement("h2",null,"Enter Your Nickname"),r.a.createElement("form",{onSubmit:function(e){return v(e)}},r.a.createElement("label",null,r.a.createElement("input",{placeholder:"Your nickname",type:"text",value:a,onChange:function(e){return function(e){var t=e.target;c(t.value)}(e)}}))),function(e){return"NO-NICKNAME"===e?r.a.createElement(g,{msg:"You have to enter your nickname before save. ",class_Name:"scoreboard__error"}):"SHORT-NICKNAME"===e?r.a.createElement(g,{msg:"Your nickname is to short. ",class_Name:"scoreboard__error"}):"NICKNAME-TAKEN"===e?r.a.createElement(g,{msg:"This nickname is already taken. ",class_Name:"scoreboard__error"}):"SERVER-ERROR"===e?r.a.createElement(g,{msg:"Internal server error. Try again later... ",class_Name:"scoreboard__error"}):void 0}(u),r.a.createElement("button",{onClick:function(e){return v(e)}},"Save"))},T=a(7),L=a.n(T),x=function(e,t){var a,n,r;return L.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L.a.awrap(e.map((function(e,t){return Object(l.a)({},e,{position:t+1})})));case 2:if(a=c.sent,t){c.next=5;break}return c.abrupt("return",a.splice(0,10));case 5:return r=0,c.next=8,L.a.awrap(a.forEach((function(e){if(r++,e.name===t)return n=r<10?a.slice(0,10):a.slice(r-10,r)})));case 8:return c.abrupt("return",n);case 9:case"end":return c.stop()}}))},I=function(){return r.a.createElement("li",{className:"scoreboard__list score score__header"},r.a.createElement("div",{className:"score__position"},"Position"),r.a.createElement("div",{className:"score__name"},"Nickname"),r.a.createElement("div",{className:"score__time"},"Result"))},w=function(e){var t=e.data,a=t.name,c=t.time,o=c.minutes,l=c.seconds,s=c.miliSeconds,u=t.position,m=Object(n.useContext)(i).state.nickname,d=function(e,t){if(e===t)return"bold"};return r.a.createElement("li",{className:"scoreboard__list score"},r.a.createElement("div",{className:"score__position ".concat(d(m,a))},u,"."),r.a.createElement("div",{className:"score__name ".concat(d(m,a))},a),r.a.createElement("div",{className:"score__time ".concat(d(m,a))},function(e,t,a){var n,r,c;return n=e?e.toString():"0",r=t?t.toString():"0",c=a?a.toString():"0",n=1===n.length?"0".concat(e):e,r=1===r.length?"0".concat(t):t,c=1===c.length?"00".concat(a):2===c.length?"0".concat(a):a,"".concat(n,":").concat(r,":").concat(c)}(o,l,s)))},D=a(32),F=a(27),K=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement(F.BounceLoader,{size:150,color:"#e0dcce"}),r.a.createElement("p",null,"Loading..."))},Y=(_=function(e){var t=e.scores;return r.a.createElement(r.a.Fragment,null,function(){var e=[r.a.createElement(I,null)];return t.map((function(t){return e.push(r.a.createElement(w,{data:t}))})),e}())},function(e){var t=e.loading,a=e.error,n=Object(D.a)(e,["loading","error"]);return console.log(t),t?r.a.createElement(K,null):a?r.a.createElement(g,{class_Name:"error",icon:!0,msg:"Ooops... Something went wrong. Try again later."}):r.a.createElement(_,n)}),P=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],m=l[1],d=Object(n.useState)([]),E=Object(s.a)(d,2),f=E[0],b=E[1],_=Object(n.useContext)(i).state,v=_.nickname,p=_.selectedLevel;return Object(n.useEffect)((function(){c(!0),A.get("/scores/".concat(p)).then((function(e){var t,a;return L.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,n.next=3,L.a.awrap(x(t,v));case 3:a=n.sent,b(a),c(!1);case 6:case"end":return n.stop()}}))})).catch((function(e){c(!1),m(!0)}))}),[v,p]),r.a.createElement("div",{className:"scoreboard__list"},r.a.createElement(Y,{loading:a,scores:f,error:u}))},G=function(e){var t=Object(n.useContext)(i).state,a=t.openScoreModal,c=t.nickname;return r.a.createElement(f.a,{isOpen:a,style:C,contentLabel:"Scoreboard Modal"},r.a.createElement("div",{className:"modal"},r.a.createElement(y,null),"scores"===e.selectedButton||c?r.a.createElement(P,null):r.a.createElement(M,null)))},V=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(i).dispatch,l=function(e){"post"===e.target.value?(o({type:"OPEN_SCORE_MODAL",openScoreModal:!0}),c("post")):(o({type:"OPEN_SCORE_MODAL",openScoreModal:!0}),c("scores"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{value:"scores",onClick:function(e){l(e)}},"SCORES"),r.a.createElement("button",{value:"post",onClick:function(e){return l(e)}},"POST"),r.a.createElement(G,{selectedButton:a}))},H=function(){var e=Object(n.useContext)(i).dispatch;return r.a.createElement("div",{className:"summary__navigation"},r.a.createElement("button",{onClick:function(){return e({type:"RESET_GAME"})}},"TRY AGAIN"),r.a.createElement(V,null))},B=function(){var e=Object(n.useContext)(i).state.time;return r.a.createElement("div",{className:"summary__time"},r.a.createElement("div",{className:"time__heading"},"Your Time"),r.a.createElement("div",{className:"time__timer"},function(){var t=e.minutes,a=e.seconds,n=e.miliSeconds;return t<10&&(t="0".concat(t)),a<10&&(a="0".concat(a)),"".concat(t,":").concat(a,":").concat(n)}()))},U=function(){return r.a.createElement("div",{className:"summary__heading"},r.a.createElement("h1",null,"Congratulations!"),r.a.createElement("h2",null,"You Won!"))},q=function(){return r.a.createElement("div",{className:"summary"},r.a.createElement("div",{className:"summary__wrapper"},r.a.createElement(U,null),r.a.createElement(B,null),r.a.createElement(H,null)))},z=function(e){var t=e.cardNum,a=e.colors,c=Object(n.useContext)(i),o=c.dispatch,l=c.state.colorsArray,u=Object(n.useState)(""),m=Object(s.a)(u,2),d=m[0],E=m[1];Object(n.useEffect)((function(){E(a[Math.floor(Math.random()*a.length)])}),[a]),Object(n.useEffect)((function(){if(""!==d){var e=l;e[t-1]?e[t-1]={id:t,color:d}:e.push({id:t,color:d}),o({type:"SET_COLORS_ARRAY",colorsArray:e})}}),[t,d,l,o]);return r.a.createElement("div",{onClick:function(e){!function e(t){var n=a[Math.floor(Math.random()*a.length)];n===t.style.backgroundColor?e(t):E(n)}(e.target),o({type:"ADD_CLICK"})},style:{background:d},className:"card card__card".concat(t)})},J=function(e){var t=e.data,a=e.level;return r.a.createElement("div",{className:"level game__".concat(a)},function(){for(var e=t.cardsNum,a=t.colors,n=[],c=1;c<=e;c++)n.push(r.a.createElement(z,{key:c,cardNum:c,colors:a}));return n}())},W={cardsNum:6,colors:["darkred","darkblue","darkgreen","gold","darkorange"]},X={cardsNum:10,colors:["darkred","darkblue","darkgreen","gold","darkorange"]},Q={cardsNum:20,colors:["darkred","darkblue","darkgreen","gold","darkorange"]},Z=function(){var e=Object(n.useContext)(i),t=e.dispatch,a=e.state,c=a.selectedLevel,o=a.colorsArray,l=a.clicks,s=a.gameFinished;Object(n.useEffect)((function(){var e=[];o.length&&(o.forEach((function(t){var a=t.color;e.push(a)})),1===new Set(e).size&&t({type:"FINISH_GAME",gameFinished:!0}))}),[l,o,t]);return r.a.createElement("div",null,s?r.a.createElement(q,null):r.a.createElement("div",{className:"game"},r.a.createElement(j,null),function(){switch(c){case"easy":return r.a.createElement(J,{data:W,level:"easy"});case"medium":return r.a.createElement(J,{data:X,level:"medium"});case"hard":return r.a.createElement(J,{data:Q,level:"hard"});default:return r.a.createElement(g,{msg:"Something went wrong..."})}}()))},$=a(31),ee=a(96),te=function(){return r.a.createElement("div",{className:"footer__icons"},r.a.createElement(O.b.Provider,{value:{className:"footer__icon"}},r.a.createElement(ee.a,{url:"https://dogrodnik.github.io/color-game/",quote:"Try to beat the best score!"},r.a.createElement($.a,null))))},ae=function(){var e=Object(n.useContext)(i).state.gameFinished;return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer__wrapper"},r.a.createElement("a",{href:"https://github.com/dogrodnik",target:"_blank",rel:"noopener noreferrer"},"\xa9 2020 DOGRODNIK")),e&&r.a.createElement(te,null))},ne=function(){var e=Object(n.useContext)(i).state.gameStarted;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(Z,null):r.a.createElement(k,null),r.a.createElement(ae,null))};o.a.render(r.a.createElement((function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){switch(t.type){case"START_GAME":return Object(l.a)({},e,{gameStarted:!0});case"START_ERROR":return Object(l.a)({},e,{startError:t.startError});case"OPEN_MODAL":return Object(l.a)({},e,{openModal:t.openModal});case"SELECT_LEVEL":return Object(l.a)({},e,{selectedLevel:t.selectedLevel});case"SET_COLORS_ARRAY":return Object(l.a)({},e,{colorsArray:t.colorsArray});case"ADD_CLICK":return Object(l.a)({},e,{clicks:e.clicks+1});case"FINISH_GAME":return Object(l.a)({},e,{gameFinished:t.gameFinished});case"SET_TIME":return Object(l.a)({},e,{time:t.time});case"OPEN_SCORE_MODAL":return Object(l.a)({},e,{openScoreModal:t.openScoreModal});case"VALUE_NICKNAME":return Object(l.a)({},e,{nickname:t.nickname});case"RESET_GAME":return{gameStarted:!1,selectedLevel:!1,startError:!1,openModal:!1,colorsArray:[],clicks:0,time:{},gameFinished:!1,openScoreModal:!1,openScoreModalView:!1,nickname:null};default:throw new Error}}),u),c=Object(s.a)(a,2),o=c[0],i=c[1];return r.a.createElement(m,{value:{state:o,dispatch:i}},t)}),null,r.a.createElement(ne,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.78bfe882.chunk.js.map