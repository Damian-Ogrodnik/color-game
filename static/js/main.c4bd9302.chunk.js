(this["webpackJsonpcolor-game"]=this["webpackJsonpcolor-game"]||[]).push([[0],{21:function(e,t,a){e.exports=a(55)},26:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),l=(a(26),a(3)),s=a(1),u={gameStarted:!1,selectedLevel:!1,startError:!1,openModal:!1,colorsArray:[],clicks:0,time:{},gameFinished:!1,openScoreModal:!1,openScoreModalView:!1,nickname:null},i=Object(n.createContext)(u),m=i.Provider,d=function(){var e=Object(n.useContext)(i).dispatch,t=Object(n.useContext)(i).state.selectedLevel,a=function(t){var a=t.target.value;e({type:"SELECT_LEVEL",selectedLevel:a}),e({type:"START_ERROR",startError:!1})},c=function(e){return e===t?"selected":""};return r.a.createElement("div",{className:"menu__difficulty"},r.a.createElement("h2",null,"Select Level of Difficulty"),r.a.createElement("div",{className:"menu__levels"},r.a.createElement("button",{className:"btn btn__level--easy ".concat(c("easy")),value:"easy",onClick:function(e){return a(e)}},"EASY"),r.a.createElement("button",{className:"btn btn__level--medium ".concat(c("medium")),value:"medium",onClick:function(e){return a(e)}},"MEDIUM"),r.a.createElement("button",{className:"btn btn__level--hard ".concat(c("hard")),value:"hard",onClick:function(e){return a(e)}},"HARD")))},E=a(5),f=a.n(E),b={content:{top:"50%",left:"50%",width:"80%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"0.25rem solid #470100",borderRadius:"1rem",backgroundColor:"#ad343e"}};f.a.setAppElement("#root");var _=function(){var e=Object(n.useContext)(i).dispatch,t=Object(n.useContext)(i).state.openModal;return r.a.createElement(f.a,{isOpen:t,style:b,contentLabel:"Example Modal"},r.a.createElement("div",{className:"modal"},r.a.createElement("h2",{className:"modal__title"},"Welcome to my color-game!"),r.a.createElement("p",{className:"modal__text--body"},"I created this simple game to practise context state managment in React. To start the game you have to choose the level of difficulty and press the start button. Then you will see colorful blocks. Your task is to set the same color on each block as quick as possible. You can change color of a block by clicking on it."," "),r.a.createElement("button",{className:"modal__btn",onClick:function(){return e({type:"OPEN_MODAL",openModal:!1})}},"GOT IT!")))},v=function(){var e=Object(n.useContext)(i).dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menu__info",onClick:function(){return e({type:"OPEN_MODAL",openModal:!0})}},"?"),r.a.createElement(_,null))},p=function(e){var t=e.msg,a=e.class_Name;return r.a.createElement("div",{className:a},t)},O=function(){var e=Object(n.useContext)(i).dispatch,t=Object(n.useContext)(i).state,a=t.selectedLevel,c=t.startError;return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(p,{msg:"You have to select level of difficulty before start.",class_Name:"menu__error"}),r.a.createElement("div",{className:"menu__start"},r.a.createElement("button",{className:"btn__start",onClick:function(){return e(!1===a?{type:"START_ERROR",startError:!0}:{type:"START_GAME"})}},"START")))},h=function(e){var t=e.classTitle,a=e.title;return r.a.createElement("div",{className:"".concat(t,"__header")},r.a.createElement("h1",null,a))},N=function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu__wrapper"},r.a.createElement(h,{classTitle:"menu",title:"Color Game"}),r.a.createElement(d,null),r.a.createElement(O,null)),r.a.createElement(v,null))},g=function(){var e=Object(n.useContext)(i).dispatch,t=Object(n.useContext)(i).state.clicks,a=Object(n.useState)(0),c=Object(s.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)(0),m=Object(s.a)(u,2),d=m[0],E=m[1],f=Object(n.useState)(0),b=Object(s.a)(f,2),_=b[0],v=b[1];Object(n.useEffect)((function(){var e=setTimeout((function(){E(d+1)}),1e3);return function(){return clearInterval(e)}}),[d]),Object(n.useEffect)((function(){var e=setTimeout((function(){v(_>1e3?0:_+1)}),1);return function(){return clearInterval(e)}})),Object(n.useEffect)((function(){e({type:"SET_TIME",time:{minutes:o,seconds:d,miliSeconds:_}})}),[t]);return r.a.createElement("div",{className:"game__timer"},r.a.createElement("div",{className:"game__timer--top"},o<10?"0".concat(o):o,":",d<10?"0".concat(d):d>59?(E(0),l(o+1),"00"):d))},S={content:{top:"50%",left:"50%",width:"80%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",border:"0.25rem solid #470100",borderRadius:"1rem",backgroundColor:"#ad343e"}},C=function(){var e=Object(n.useContext)(i).dispatch;return r.a.createElement("button",{className:"modal__btn--close",onClick:function(){return e({type:"OPEN_SCORE_MODAL",openScoreModal:!1})}},"X")},k=a(20),j=a.n(k).a.create({headers:{"Access-Control-Allow-Origin":"*"},baseURL:"https://git.heroku.com/color-game-dogrodnik.git"}),y=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(s.a)(o,2),u=l[0],m=l[1],d=Object(n.useContext)(i).dispatch,E=Object(n.useContext)(i).state,f=E.time,b=E.selectedLevel,_=function(e){e.preventDefault();var t=f.minutes,n=f.seconds,r=f.miliSeconds;a?a.length<4?m("SHORT-NICKNAME"):j.post("/scores/".concat(b,"/").concat(a),{minutes:t,seconds:n,miliSeconds:r}).then((function(){d({type:"VALUE_NICKNAME",nickname:a})})).catch((function(e){e.response?m("NICKNAME-TAKEN"):m("SERVER-ERROR")})):m("NO-NICKNAME")};return r.a.createElement("div",{className:"scoreboard__input"},r.a.createElement("h2",null,"Enter Your Nickname"),r.a.createElement("form",{onSubmit:function(e){return _(e)}},r.a.createElement("label",null,r.a.createElement("input",{placeholder:"Your nickname",type:"text",value:a,onChange:function(e){return function(e){var t=e.target;c(t.value)}(e)}}))),function(e){return"NO-NICKNAME"===e?r.a.createElement(p,{msg:"You have to enter your nickname before save. ",class_Name:"scoreboard__error"}):"SHORT-NICKNAME"===e?r.a.createElement(p,{msg:"Your nickname is to short. ",class_Name:"scoreboard__error"}):"NICKNAME-TAKEN"===e?r.a.createElement(p,{msg:"This nickname is already taken. ",class_Name:"scoreboard__error"}):"SERVER-ERROR"===e?r.a.createElement(p,{msg:"Internal server error. Try again later... ",class_Name:"scoreboard__error"}):void 0}(u),r.a.createElement("button",{onClick:function(e){return _(e)}},"Save"))},A=a(4),R=a.n(A),M=function(e,t){var a,n,r;return R.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,R.a.awrap(e.map((function(e,t){return Object(l.a)({},e,{position:t+1})})));case 2:if(a=c.sent,t){c.next=5;break}return c.abrupt("return",a.splice(0,10));case 5:return r=0,c.next=8,R.a.awrap(a.forEach((function(e){if(r++,e.name===t)return n=r<10?a.slice(0,10):a.slice(r-10,r)})));case 8:return c.abrupt("return",n);case 9:case"end":return c.stop()}}))},T=function(){return r.a.createElement("li",{className:"scoreboard__list score score__header"},r.a.createElement("div",{className:"score__position"},"Position"),r.a.createElement("div",{className:"score__name"},"Nickname"),r.a.createElement("div",{className:"score__time"},"Result"))},x=function(e){var t=e.data,a=t.name,c=t.time,o=c.minutes,l=c.seconds,s=c.miliSeconds,u=t.position,m=Object(n.useContext)(i).state.nickname,d=function(e,t){if(e===t)return"bold"};return r.a.createElement("li",{className:"scoreboard__list score"},r.a.createElement("div",{className:"score__position ".concat(d(m,a))},u,"."),r.a.createElement("div",{className:"score__name ".concat(d(m,a))},a),r.a.createElement("div",{className:"score__time ".concat(d(m,a))},function(e,t,a){var n,r,c;return n=e?e.toString():"0",r=t?t.toString():"0",c=a?a.toString():"0",n=1===n.length?"0".concat(e):e,r=1===r.length?"0".concat(t):t,c=1===c.length?"00".concat(a):2===c.length?"0".concat(a):a,"".concat(n,":").concat(r,":").concat(c)}(o,l,s)))},L=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(i).state,l=o.nickname,u=o.selectedLevel;Object(n.useEffect)((function(){j.get("/scores/".concat(u)).then((function(e){var t,a;return R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,n.next=3,R.a.awrap(M(t,l));case 3:a=n.sent,c(a);case 5:case"end":return n.stop()}}))}))}),[l,u]);return r.a.createElement("div",{className:"scoreboard__list"},function(){var e=[r.a.createElement(T,null)];return a.map((function(t){return e.push(r.a.createElement(x,{data:t}))})),e}())},I=function(e){var t=Object(n.useContext)(i).state,a=t.openScoreModal,c=t.nickname;return r.a.createElement(f.a,{isOpen:a,style:S,contentLabel:"Scoreboard Modal"},r.a.createElement("div",{className:"modal"},r.a.createElement(C,null),"scores"===e.selectedButton||c?r.a.createElement(L,null):r.a.createElement(y,null)))},w=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(i).dispatch,l=function(e){"post"===e.target.value?(o({type:"OPEN_SCORE_MODAL",openScoreModal:!0}),c("post")):(o({type:"OPEN_SCORE_MODAL",openScoreModal:!0}),c("scores"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{value:"scores",onClick:function(e){l(e)}},"SCORES"),r.a.createElement("button",{value:"post",onClick:function(e){return l(e)}},"POST"),r.a.createElement(I,{selectedButton:a}))},D=function(){var e=Object(n.useContext)(i).dispatch;return r.a.createElement("div",{className:"summary__navigation"},r.a.createElement("button",{onClick:function(){return e({type:"RESET_GAME"})}},"TRY AGAIN"),r.a.createElement(w,null))},Y=function(){var e=Object(n.useContext)(i).state.time;return r.a.createElement("div",{className:"summary__time"},r.a.createElement("div",{className:"time__heading"},"Your Time"),r.a.createElement("div",{className:"time__timer"},function(){var t=e.minutes,a=e.seconds,n=e.miliSeconds;return t<10&&(t="0".concat(t)),a<10&&(a="0".concat(a)),"".concat(t,":").concat(a,":").concat(n)}()))},F=function(){return r.a.createElement("div",{className:"summary__heading"},r.a.createElement("h1",null,"Congratulations!"),r.a.createElement("h2",null,"You Won!"))},K=function(){return r.a.createElement("div",{className:"summary"},r.a.createElement("div",{className:"summary__wrapper"},r.a.createElement(F,null),r.a.createElement(Y,null),r.a.createElement(D,null)))},P=function(e){var t=e.cardNum,a=e.colors,c=Object(n.useContext)(i).dispatch,o=Object(n.useContext)(i).state.colorsArray,l=Object(n.useState)(""),u=Object(s.a)(l,2),m=u[0],d=u[1];Object(n.useEffect)((function(){d(a[Math.floor(Math.random()*a.length)])}),[a]),Object(n.useEffect)((function(){if(""!==m){var e=o;e[t-1]?e[t-1]={id:t,color:m}:e.push({id:t,color:m}),c({type:"SET_COLORS_ARRAY",colorsArray:e})}}),[t,m,o,c]);return r.a.createElement("div",{onClick:function(e){!function e(t){var n=a[Math.floor(Math.random()*a.length)];n===t.style.backgroundColor?e(t):d(n)}(e.target),c({type:"ADD_CLICK"})},style:{background:m},className:"card card__card".concat(t)})},G=function(e){var t=e.data,a=e.level;return r.a.createElement("div",{className:"level game__".concat(a)},function(){for(var e=t.cardsNum,a=t.colors,n=[],c=1;c<=e;c++)n.push(r.a.createElement(P,{key:c,cardNum:c,colors:a}));return n}())},V={cardsNum:6,colors:["darkred","darkblue","darkgreen","gold","darkorange"]},H={cardsNum:10,colors:["darkred","darkblue","darkgreen","gold","darkorange"]},U={cardsNum:20,colors:["darkred","darkblue","darkgreen","gold","darkorange"]},B=function(){var e=Object(n.useContext)(i).dispatch,t=Object(n.useContext)(i).state,a=t.selectedLevel,c=t.colorsArray,o=t.clicks,l=t.gameFinished;Object(n.useEffect)((function(){var t=[];c.length&&(c.forEach((function(e){var a=e.color;t.push(a)})),1===new Set(t).size&&e({type:"FINISH_GAME",gameFinished:!0}))}),[o,c,e]);return r.a.createElement("div",null,l?r.a.createElement(K,null):r.a.createElement("div",{className:"game"},r.a.createElement(g,null),function(){switch(a){case"easy":return r.a.createElement(G,{data:V,level:"easy"});case"medium":return r.a.createElement(G,{data:H,level:"medium"});case"hard":return r.a.createElement(G,{data:U,level:"hard"});default:return r.a.createElement(p,{msg:"Something went wrong..."})}}()))},J=function(){var e=Object(n.useContext)(i).state.gameStarted;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(B,null):r.a.createElement(N,null))};o.a.render(r.a.createElement((function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){switch(t.type){case"START_GAME":return Object(l.a)({},e,{gameStarted:!0});case"START_ERROR":return Object(l.a)({},e,{startError:t.startError});case"OPEN_MODAL":return Object(l.a)({},e,{openModal:t.openModal});case"SELECT_LEVEL":return Object(l.a)({},e,{selectedLevel:t.selectedLevel});case"SET_COLORS_ARRAY":return Object(l.a)({},e,{colorsArray:t.colorsArray});case"ADD_CLICK":return Object(l.a)({},e,{clicks:e.clicks+1});case"FINISH_GAME":return Object(l.a)({},e,{gameFinished:t.gameFinished});case"SET_TIME":return Object(l.a)({},e,{time:t.time});case"OPEN_SCORE_MODAL":return Object(l.a)({},e,{openScoreModal:t.openScoreModal});case"VALUE_NICKNAME":return Object(l.a)({},e,{nickname:t.nickname});case"RESET_GAME":return{gameStarted:!1,selectedLevel:!1,startError:!1,openModal:!1,colorsArray:[],clicks:0,time:{},gameFinished:!1,openScoreModal:!1,openScoreModalView:!1,nickname:null};default:throw new Error}}),u),c=Object(s.a)(a,2),o=c[0],i=c[1];return r.a.createElement(m,{value:{state:o,dispatch:i}},t)}),null,r.a.createElement(J,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.c4bd9302.chunk.js.map